{"version":3,"sources":["components/RenderOnRole.jsx","views/admin/ManageSubscription.jsx","views/admin/index.js","../node_modules/@mui/icons-material/FileDownload.js"],"names":["RenderOnRole","roles","children","UserService","hasRole","propTypes","PropTypes","arrayOf","string","isRequired","ManageSubscription","useState","rows","setData","getsubapi","config","rootapi","useEffect","axios","method","url","then","res","data","map","item","Date","parse","request_date","toLocaleString","id","user_account_id","user_name","fullname","email","upassword","offer_id","plan_id","request_status","catch","err","console","log","options","filter","print","selectableRows","responsive","textLabels","customToolbarSelect","selectedRows","Tooltip","title","IconButton","onClick","dataIndex","columns","name","label","AdminPage","_interopRequireDefault","require","Object","defineProperty","exports","value","default","_createSvgIcon","_jsxRuntime","_default","jsx","d"],"mappings":"8JAGMA,EAAe,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,SAAV,OAA0BC,IAAYC,QAAQH,GAAUC,EAAW,MAExFF,EAAaK,UAAY,CACvBJ,MAAOK,IAAUC,QAAQD,IAAUE,QAAQC,YAG9BT,Q,+FCGA,SAASU,IACpB,MAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KA4EMC,EAAYC,IAAOC,QAAU,cAEnCC,qBAAU,WACNC,IAAM,CAAEC,OAAQ,MAAOC,IAAKN,IAC1BO,MAAK,SAAAC,GACHT,EAAQS,EAAIC,KAAKA,KAAKC,KAAI,SAAAC,GACH,IAAIC,KAAKA,KAAKC,MAAMF,EAAKG,eAAeC,iBAC3D,MAAO,CACH,GAAMJ,EAAKK,GACX,gBAAkBL,EAAKM,gBACvB,UAAYN,EAAKO,UACjB,SAAWP,EAAKQ,SAChB,MAAQR,EAAKS,MACb,UAAYT,EAAKU,UACjB,SAAWV,EAAKW,SAChB,QAAUX,EAAKY,QACf,aAAgBZ,EAAKG,aACrB,eAAiBH,EAAKa,uBAK/BC,OAAM,SAAAC,GAASC,QAAQC,IAAIF,QAC/B,IAyCH,IAKMG,EAAU,CACZC,QAAQ,EACRC,OAAO,EACPC,eAAgB,SAChBC,WAAY,WACZC,WAAY,GACZC,oBAAqB,SAAAC,GAAY,OAC7B,mCACI,cAACC,EAAA,EAAD,CAASC,MAAM,mBAAf,SACI,cAACC,EAAA,EAAD,CACIC,QAAS,WACLb,QAAQC,IAAI9B,EAAKsC,EAAa3B,KAAK,GAAGgC,WAA1B,WACZd,QAAQC,IAAI9B,EAAKsC,EAAa3B,KAAK,GAAGgC,WAA1B,UACZd,QAAQC,IAAI9B,EAAKsC,EAAa3B,KAAK,GAAGgC,WAA1B,UAJpB,SAUI,cAAC,IAAD,YAgBpB,OACI,8BAEI,cAAC,IAAD,CACIH,MAAO,4BACP7B,KAAMX,EACN4C,QAzLI,CACZ,CACIC,KAAM,KACNd,QAAS,CACLC,QAAQ,GAEZc,MAAO,MAEX,CACID,KAAM,kBACNd,QAAS,CACLC,QAAQ,GAEZc,MAAO,wBAEX,CACID,KAAM,YACNd,QAAS,CACLC,QAAQ,GAEZc,MAAO,qBAGX,CACID,KAAM,WACNd,QAAS,CACLC,QAAQ,GAEZc,MAAO,wBAGX,CACID,KAAM,QACNd,QAAS,CACLC,QAAQ,GAEZc,MAAO,SAEX,CACID,KAAM,YACNd,QAAS,CACLC,QAAQ,GAEZc,MAAO,sBAEX,CACID,KAAM,WACNd,QAAS,CACLC,QAAQ,GAEZc,MAAO,YAEX,CACID,KAAM,UACNd,QAAS,CACLC,QAAQ,GAEZc,MAAO,WAEX,CACID,KAAM,eACNd,QAAS,CACLC,QAAQ,GAEZc,MAAO,2BAEX,CACID,KAAM,iBACNd,QAAS,CACLC,QAAQ,GAEZc,MAAO,uBAmHHf,QAASA,MCpLVgB,UAbG,kBAEd,8BAEI,cAAC,EAAD,CAAc1D,MAAO,CAAC,SAAtB,SACI,cAACS,EAAD,U,iCCVZ,IAAIkD,EAAyBC,EAAQ,IAErCC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAiBP,EAAuBC,EAAQ,KAEhDO,EAAcP,EAAQ,GAEtBQ,GAAW,EAAIF,EAAeD,UAAuB,EAAIE,EAAYE,KAAK,OAAQ,CACpFC,EAAG,8CACD,gBAEJP,EAAQE,QAAUG","file":"static/js/27.090e5fe0.chunk.js","sourcesContent":["import PropTypes from 'prop-types'\nimport UserService from \"../services/UserService\";\n\nconst RenderOnRole = ({ roles, children }) => (UserService.hasRole(roles)) ? children : null;\n\nRenderOnRole.propTypes = {\n  roles: PropTypes.arrayOf(PropTypes.string).isRequired,\n}\n\nexport default RenderOnRole\n","import { useState, useEffect } from 'react'\r\nimport MUIDataTable from \"mui-datatables\";\r\nimport axios from 'axios';\r\nimport config from \"../../config\";\r\nimport { Tooltip, IconButton } from '@mui/material';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport FileDownloadIcon from '@mui/icons-material/FileDownload';\r\n\r\n\r\n\r\n\r\n\r\nexport default function ManageSubscription() {\r\n    const [rows, setData] = useState([]);\r\n    const columns = [\r\n        {\r\n            name: \"id\",\r\n            options: {\r\n                filter: true\r\n            },\r\n            label: 'ID'\r\n        },\r\n        {\r\n            name: \"user_account_id\",\r\n            options: {\r\n                filter: true\r\n            },\r\n            label: 'ID Tài khoản',\r\n        },\r\n        {\r\n            name: \"user_name\",\r\n            options: {\r\n                filter: false\r\n            },\r\n            label: 'Tài khoản'\r\n        }\r\n        ,\r\n        {\r\n            name: \"fullname\",\r\n            options: {\r\n                filter: false\r\n            },\r\n            label: 'Họ và tên'\r\n        }\r\n        ,\r\n        {\r\n            name: \"email\",\r\n            options: {\r\n                filter: false\r\n            },\r\n            label: 'Email'\r\n        },\r\n        {\r\n            name: \"upassword\",\r\n            options: {\r\n                filter: false\r\n            },\r\n            label: 'Mật khẩu'\r\n        },\r\n        {\r\n            name: \"offer_id\",\r\n            options: {\r\n                filter: false\r\n            },\r\n            label: 'ID Offer'\r\n        },\r\n        {\r\n            name: \"plan_id\",\r\n            options: {\r\n                filter: false\r\n            },\r\n            label: 'ID Plan'\r\n        },\r\n        {\r\n            name: \"request_date\",\r\n            options: {\r\n                filter: false\r\n            },\r\n            label: 'Ngày yêu cầu'\r\n        },\r\n        {\r\n            name: \"request_status\",\r\n            options: {\r\n                filter: false\r\n            },\r\n            label: 'Trạng thái'\r\n        }\r\n\r\n    ];\r\n    const getsubapi = config.rootapi + '/requestsub';\r\n\r\n    useEffect(() => {\r\n        axios({ method: 'get', url: getsubapi }\r\n        ).then(res => {\r\n            setData(res.data.data.map(item => {\r\n                let request_date = new Date(Date.parse(item.request_date)).toLocaleString()\r\n                return {\r\n                    'id': item.id,\r\n                    'user_account_id':item.user_account_id,\r\n                    'user_name':item.user_name,\r\n                    'fullname':item.fullname,\r\n                    'email':item.email,\r\n                    'upassword':item.upassword,\r\n                    'offer_id':item.offer_id,\r\n                    'plan_id':item.plan_id,\r\n                    'request_date': item.request_date,\r\n                    'request_status':item.request_status\r\n                }\r\n\r\n            }));\r\n            // setData(res.data.data);\r\n        }).catch(err => { console.log(err) })\r\n    }, []);\r\n\r\n\r\n\r\n    // {\r\n    //     \"user_group_type_id\": 27,\r\n    //     \"customer_invoice_data\": \"ahihhhi\",\r\n    //     \"insert_ts\": \"2022-06-09\",\r\n    //     *\"first_name\": \"sdaghs\",\r\n    //     *\"last_name\": \"dshgfad\",\r\n    //     *\"user_name\": \"dsafdas\",\r\n    //     *\"password\": \"1\",\r\n    //     *\"email\": \"dsadhgfhsad@fpt.com.vn\",\r\n    //     \"confirmation_code\": \"9\",\r\n    //     \"confirmation_time\": \"2022-03-02\",\r\n    //     \"insert_ts\": \"2022-05-07\",\r\n    //     \"ingroup\": [\r\n    //         {\r\n    //             \"time_added\":\"2022-05-03\",\r\n    //             \"time_removed\":\"2022-06-01\",\r\n    //             \"group_admin\": true\r\n    //         }\r\n    //     ],\r\n    //     \"subscription\": [\r\n    //         {\r\n    //             \"trial_period_start_date\": \"2022-06-24T17:00:00.000Z\",\r\n    //             \"trial_period_end_date\": \"2030-12-26T17:00:00.000Z\",\r\n    //             \"subscribe_after_trial\": false,\r\n    //             *\"current_plan_id\": 83,\r\n    //            * \"offer_id\": 92,\r\n    //             \"offer_start_date\": \"2022-06-27T17:00:00.000Z\",\r\n    //             \"offer_end_date\": \"2030-12-29T17:00:00.000Z\",\r\n    //             \"date_subscribed\": \"2022-06-23T17:00:00.000Z\",\r\n    //             \"valid_to\": \"2030-12-29T17:00:00.000Z\",\r\n    //             \"date_unsubscribed\": null,\r\n    //             \"insert_ts\": \"2022-06-23T17:00:00.000Z\",\r\n    //             \"requestsub_id\":null\r\n    //         }\r\n    //     ]\r\n    // }\r\n\r\n    const createuserandsub =() =>{\r\n\r\n\r\n    }\r\n\r\n    const options = {\r\n        filter: false,\r\n        print: false,\r\n        selectableRows: \"single\",\r\n        responsive: \"standard\",\r\n        textLabels: {},\r\n        customToolbarSelect: selectedRows => (\r\n            <>\r\n                <Tooltip title=\"Tải về\">\r\n                    <IconButton\r\n                        onClick={() => {\r\n                            console.log(rows[selectedRows.data[0].dataIndex]['user_name']) \r\n                            console.log(rows[selectedRows.data[0].dataIndex]['offer_id']) \r\n                            console.log(rows[selectedRows.data[0].dataIndex]['plan_id']) \r\n                          \r\n\r\n                        }}\r\n\r\n                    >\r\n                        <FileDownloadIcon />\r\n                    </IconButton>\r\n                </Tooltip>\r\n\r\n                \r\n\r\n            </>\r\n\r\n        )\r\n\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n\r\n            <MUIDataTable\r\n                title={\"Danh sách subscription\"}\r\n                data={rows}\r\n                columns={columns}\r\n                options={options}\r\n            />\r\n\r\n        </div>\r\n\r\n    )\r\n\r\n}\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport RenderOnRole from \"components/RenderOnRole\";\r\nimport ManageSubscription from \"./ManageSubscription\";\r\n\r\n\r\n// ==============================|| Bigdata Page ||============================== //\r\n\r\nconst AdminPage = () => (\r\n\r\n    <div>\r\n      \r\n        <RenderOnRole roles={['admin']}>\r\n            <ManageSubscription/>\r\n           \r\n        </RenderOnRole>\r\n\r\n    </div>\r\n\r\n);\r\n\r\nexport default AdminPage;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z\"\n}), 'FileDownload');\n\nexports.default = _default;"],"sourceRoot":""}